<html>
<head>
<title>API Installation</title>
<meta name="order" content="1" />
</head>

<body>

<h1>Perl API Installation</h1>


<h2>Introduction</h2>

<p>
All data sets in the Ensembl system are stored in relational databases
(MySQL). For each of the <a href="./index.html">Ensembl databases</a>
the project provides a specific Perl API. As Ensembl takes also
advantage of code provided by
the <a href="http://www.bioperl.org/wiki/Main_Page"
rel="external">BioPerl</a> project; installation of the BioPerl
package is included in these instructions.
</p>

<h2>Video Tutorial</h2>

<p>Ensembl has produced a video tutorial about how to install the API. Its content is based on this document so you can follow both resources when performing an installation.</p>

<p>[[MOVIE::395]]</p>

<h2>Installation Procedure</h2>

<p>
There are two ways of installing the Perl API. You can
<a href="/info/docs/api/api_cvs.html">check it out using CVS</a>
(Concurrent Versioning System) if you have that available, you can download
      the files in gzipped TAR format from either our <a
	rel="external" href="ftp://ftp.ensembl.org/pub/ensembl-api.tar.gz">FTP site</a> or our
      CVS website as detailed below:
</p>


<ol>
<li>
<p>
Create an installation directory
</p>

<pre>
$ cd
$ mkdir src
$ cd src
</pre>
</li>

<li>
<p>
Download the API packages you need:
</p>

<ul>
  <li><a href="/cvsdownloads/ensembl-[[SPECIESDEFS::ENSEMBL_VERSION]].tar.gz">ensembl</a></li>
  <li><a href="/cvsdownloads/ensembl-compara-[[SPECIESDEFS::ENSEMBL_VERSION]].tar.gz">ensembl-compara</a></li>
  <li><a href="/cvsdownloads/ensembl-variation-[[SPECIESDEFS::ENSEMBL_VERSION]].tar.gz">ensembl-variation</a></li>
  <li><a href="/cvsdownloads/ensembl-functgenomics-[[SPECIESDEFS::ENSEMBL_VERSION]].tar.gz">ensembl-functgenomics</a></li>
</ul>

<p>
<strong>N.B.</strong> We recommend waiting until a few days after a
release before downloading the new API (or re-downloading after a few
days), as there may be post-release bug fixes added to the code.
</p>
</li>

<li>
<p>
Download <a rel="external" href="http://bioperl.org/DIST/old_releases/bioperl-1.2.3.tar.gz">BioPerl 1.2.3</a>
</p>
</li>

<li>
<p>
Unpack the downloaded files. In the Unix command line, type:
</p>

<pre>
$ tar xvfz filename.tar.gz
</pre>

<p>
(substituting the name of each file). In Windows, you will need an
unzipping utility such as <a rel="external" href="http://www.7-zip.org/">7-Zip</a>.
</p>
</li>

<li>
<p>
Set up your environment
</p>

<p>
You have to tell Perl where to find the modules you just installed.
You can do this by using the <kbd>use lib</kbd> clause in your script
but if you want to make these modules available for all your scripts,
the best way is to add them into the <var>PERL5LIB</var> environment
variable.
</p>

<ul>
<li>
<p>
Under <kbd>bash</kbd>, <kbd>ksh</kbd>, or any <kbd>sh</kbd>-derived shell:
</p>

<pre>
PERL5LIB=${PERL5LIB}:${HOME}/src/bioperl-1.2.3
PERL5LIB=${PERL5LIB}:${HOME}/src/ensembl/modules
PERL5LIB=${PERL5LIB}:${HOME}/src/ensembl-compara/modules
PERL5LIB=${PERL5LIB}:${HOME}/src/ensembl-variation/modules
PERL5LIB=${PERL5LIB}:${HOME}/src/ensembl-functgenomics/modules
export PERL5LIB
</pre>
</li>

<li>
<p>
Under <kbd>csh</kbd> or <kbd>tcsh</kbd>:
</p>

<pre>
setenv PERL5LIB ${PERL5LIB}:${HOME}/src/bioperl-1.2.3
setenv PERL5LIB ${PERL5LIB}:${HOME}/src/ensembl/modules
setenv PERL5LIB ${PERL5LIB}:${HOME}/src/ensembl-compara/modules
setenv PERL5LIB ${PERL5LIB}:${HOME}/src/ensembl-variation/modules
setenv PERL5LIB ${PERL5LIB}:${HOME}/src/ensembl-functgenomics/modules
</pre>
</li>

<li>
<p>
Under Windows (assuming you installed the APIs in C:\src\):
</p>

<pre>
set PERL5LIB=C:\src\bioperl-1.2.3;C:\src\ensembl\modules;C:\src\ensembl-compara\modules;C:\src\ensembl-variation\modules;C:\src\ensembl-functgenomics\modules
</pre>
</li>

</ul>

</li>

</ol>

<h2>Debugging an Installation</h2>

<p>
Sometimes installations can go wrong. You should follow our <a href='/info/docs/api/debug_installation_guide.html'>debugging installation guide</a> to help diagnose and resolve installation issues.
</p>

<h2 id="win">Additional Tips for Windows users</h2>

<ul>
<li>You will of course need Perl installed to use the API! This is available free of charge from
<a rel="external" href="http://www.activestate.com/activeperl">ActiveState</a>.</li>
<li>You will also need to install the DBD::MySQL package using PPM (Perl Package Manager),
a command-line tool which is bundled with ActivePerl.</li>
<li>If the existing mysql-driver ("libmysql.dll") doesn't work, replace it - e.g. with the one distributed with "php-5-2-3-win32-installer.msi"</li>
</ul>

<h2 id='mac'>Additional Tips for Mac users</h2>
<ul>
<li>Please install the latest <a rel="external" href='http://dev.mysql.com/downloads/'>client libraries or server</a></li>
<li>XCode and gcc must be installed. Follow this <a rel="external" href='http://stackoverflow.com/questions/9353444/how-to-use-install-gcc-on-mac-os-x-10-8-xcode-4-4'>guide</a> about how to install this on OSX 10.8</li>
<li>You will need to install <tt>DBD::mysql</tt> using CPAN</li>
<li>Users have reported issues with a missing library called <tt>libmysqlclient.18.dylib</tt>. If you followed the normal server installtion this is available under <tt>/usr/local/mysql/lib/</tt>. You must either:
<ul>
  <li>Add the MySQL library location to your <tt>DYLD_LIBRARY_PATH</tt> environment variable</li>
  <li>Use <tt>install_name_tool</tt> to force OSX to find your library</li>
  <li>Symbolically link the library into <tt>/usr/lib</tt></li>
  <li>Search <a rel="external" href='https://www.google.co.uk/search?q=libmysqlclient.18.dylib'>Google</a> for more information</li>
</ul>
</li>
</ul>

<h2>Additional Modules</h2>

<p>Additional modules for accessing GO data may be found here:</p>
<ul>
<li><a rel="external" href="http://search.cpan.org/~cmungall/go-db-perl-0.01/">http://search.cpan.org/~cmungall/go-db-perl-0.01/</a></li>
</ul>

</body>
</html>
